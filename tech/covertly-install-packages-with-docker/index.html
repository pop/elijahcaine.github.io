<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>Covertly Installing Packages with Docker</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
  <link href="/" rel="canonical" />

  <!-- Feed -->
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="elijahcaine.me Full Atom Feed" />
          <link href="/feeds/tech.atom.xml" type="application/atom+xml" rel="alternate" title="elijahcaine.me Categories Atom Feed" />

  <link href="/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="/theme/css/code_blocks/monokai.css" rel="stylesheet">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->


    <link href="/tech/covertly-install-packages-with-docker" rel="canonical" />

        <meta name="description" content="A simple guide on install $PACKAGE with $CONTAINER_RUNTIME.">

        <meta name="author" content="Elijah Caine">

        <meta name="tags" content="docker">
        <meta name="tags" content="guide">




<!-- Open Graph -->
<meta property="og:site_name" content="elijahcaine.me"/>
<meta property="og:title" content="Covertly Installing Packages with Docker"/>
<meta property="og:description" content="A simple guide on install $PACKAGE with $CONTAINER_RUNTIME."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/tech/covertly-install-packages-with-docker"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2015-10-07 00:00:00-07:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="/author/elijah-caine">
<meta property="article:section" content="tech"/>
<meta property="article:tag" content="docker"/>
<meta property="article:tag" content="guide"/>
<meta property="og:image" content="//assets/images/cover.png">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Covertly Installing Packages with Docker",
  "headline": "Covertly Installing Packages with Docker",
  "datePublished": "2015-10-07 00:00:00-07:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Elijah Caine",
    "url": "/author/elijah-caine"
  },
  "image": "//assets/images/cover.png",
  "url": "/tech/covertly-install-packages-with-docker",
  "description": "A simple guide on install $PACKAGE with $CONTAINER_RUNTIME."
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>

              <li role="presentation"><a href="/about/">About</a></li>
              <li role="presentation"><a href="/awesome-things/">Awesome things to share</a></li>
              <li role="presentation"><a href="/contact/">Contact</a></li>
              <li role="presentation"><a href="/portfolio/">Portfolio</a></li>

    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">Covertly Installing Packages with Docker</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="/author/elijah-caine">Elijah Caine</a>
            | <time datetime="Wed 07 October 2015">Wed 07 October 2015</time>
        </span>
        <!-- TODO : Modified check -->
            <div class="post-cover cover" style="background-image: url('//assets/images/cover.png')">
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p><a class="reference external" href="#the-deets-dockerfile-and-commands">Jump to the codey bits</a></p>
<div class="section" id="the-problem-workstations">
<h2>The Problem: Workstations</h2>
<p>At the OSL I use workstations which are provisioned by <a class="reference external" href="https://en.wikipedia.org/wiki/Chef_%28software%29">Chef</a> to look more or
less identical (packages are the same and global config files are consistent
from machine to machine). This is nice because it allows everybody at the lab
to jump from workstation to workstation without dreading the inevitable setup
that usually comes with going to a new computer.</p>
<p>The only downside here is that to install a package you have to make a pull
request to a GitHub Repository in which you modify a JSON file. This is almost
always for my own good, but as a dev I am prone to avoiding things that the
admins say are good for me (like broccoli, milk, and consistent workstation
environments).</p>
<p>For instance, yesterday I wanted to use <a class="reference external" href="http://rg3.github.io/youtube-dl/">youtube-dl</a> to grab a video I was
watching on repeat*. I could have made a pull request to add the package,
waited until 30 after for the workstations to refresh, used the package, and
went about my day. This would have been the correct and bureaucratic way to do
things.</p>
<p>I <em>could</em> have, and probably <em>should</em> have, done that... but I didn't.</p>
<p>* firefox kept crashing, I wasn't just stealing music for the sake of it.</p>
</div>
<div class="section" id="enter-docker">
<h2>Enter: Docker</h2>
<p>In this case the solution to the 'problem' was <a class="reference external" href="https://en.wikipedia.org/wiki/Docker_%28software%29">Docker</a>. I wrote a Dockerfile
which provisioned a container to have <tt class="docutils literal"><span class="pre">youtube-dl</span></tt> installed, spun up the
container with a shared directory (<tt class="docutils literal"><span class="pre">$PWD:/home/</span></tt>), and executed the
youtube-dl command. The .mp4 video was downloaded to my current working
directory and I was able to play it with my media player of choice, all without
installing <tt class="docutils literal"><span class="pre">youtube-dl</span></tt> locally.</p>
</div>
<div class="section" id="the-deets-dockerfile-and-commands">
<h2>The Deets: Dockerfile and Commands</h2>
<p><tt class="docutils literal">Dockerfile</tt></p>
<div class="highlight"><pre><span></span>FROM ubuntu:latest

RUN apt-get -y update
RUN apt-get -y upgrade
RUN apt-get -y install python-pip
RUN pip install youtube-dl

WORKDIR /home
RUN alias youtube-dl=&#39;/usr/local/bin/youtube-dl&#39;
</pre></div>
<p>If you are in the directory containing the above Dockerfile, build the
container with:</p>
<div class="highlight"><pre><span></span>$ docker build -t yt-dl .
</pre></div>
<p>and run it with:</p>
<div class="highlight"><pre><span></span>$ docker run -v $PWD:/home/ yt-dl youtube-dl &lt;YOUTUBE-VID-URL&gt;
</pre></div>
<p>This will download any url's video into the current working directory.</p>
</div>
<div class="section" id="pro-tip-add-an-alias">
<h2>Pro-Tip: Add an <tt class="docutils literal">Alias</tt></h2>
<p>Add the following content to your <tt class="docutils literal"><span class="pre">~/.bashrc</span></tt> file and then run <tt class="docutils literal">source
<span class="pre">~/.bashrc</span></tt> to get rid the of long Docker bits of the above command.</p>
<div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">$VID_DIR</span><span class="o">=</span>/path/to/downloaded/videos/
<span class="nb">alias</span> yt-dl<span class="o">=</span><span class="s1">&#39;docker run -v $VID_DIR:/home/ yt-dl youtube-dl&#39;</span>
</pre></div>
</div>
<div class="section" id="wait-this-is-overly-complicated">
<h2>Wait This is Overly Complicated</h2>
<p>You're probably thinking: &quot;Hey, couldn't you have just run <tt class="docutils literal">pip install <span class="pre">--user</span>
<span class="pre">youtube-dl</span></tt>?</p>
<p>Yes. I could have. But that wouldn't be fun and wouldn't have given me an
excuse to write a blog, post now would it Ms. Smarty Pantz.</p>
<hr class="docutils" />
<p><strong>drink the coolaid. come to the docker side.</strong></p>
</div>

            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=Covertly Installing Packages with Docker&amp;url=/tech/covertly-install-packages-with-docker" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=/tech/covertly-install-packages-with-docker" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=/tech/covertly-install-packages-with-docker" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="/tag/docker.html">docker</a><a href="/tag/guide.html">guide</a>                </aside>

                <div class="clear"></div>


                </section>


                <aside class="post-nav">
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script type="text/javascript" src="/theme/js/script.js"></script>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-48615202-3']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>